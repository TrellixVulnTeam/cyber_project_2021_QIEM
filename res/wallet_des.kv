#:kivy 1.11.1

#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import Image kivy.uix.image.Image
#=============================================

WindowManager:
    transition: NoTransition()

    MenuScreen:
        id: MenuScreen
    ConnectScreen:
        id: ConnectScreen
    SignUpScreen:
        id: SignUpScreen
    WaitingForConfirmationScreen:
        id: WaitingForConfirmationScreen
    UserPageScreen:
        id: UserPageScreen
    LogInScreen:
        id: LogInScreen
    SendScreen:
        id: SendScreen
    ReceiveScreen:
        id: ReceiveScreen
    FullReceiveScreen:
        id: FullReceiveScreen

#=============================================

<MenuScreen>:
    name: "MenuScreen"

    Image:
        source: app.assets.MAIN_SCREEN
        size_hint: 1,1
        keep_ratio: True
        allow_stretch: False

    BoxLayout:
        orientation: 'vertical'
        size_hint: 0.6, 0.6
        pos_hint: {'center_x': 0.6, 'center_y': 0.4}
        padding: 100
        spacing: 40

        ImageButton:
            id: Login_btn
            source: app.assets.LOGIN_BTN
            size_hint: 0.5, 0.1
            keep_ratio: False
            allow_stretch: False

            on_release:
                app.connect_screen_from = "log in"
                app.root.current = "ConnectScreen"

        ImageButton:
            id: Sign_up_btn
            source: app.assets.SIGN_UP_BTN
            size_hint: 0.5, 0.1
            keep_ratio: False
            allow_stretch: False

            on_release:
                app.connect_screen_from = "sign up"
                app.root.current = "ConnectScreen"

        ImageButton:
            id : Create_first_node_btn
            source: app.assets.CREATE_FIRST_NODE_BTN
            size_hint: 0.5, 0.1
            keep_ratio: False
            allow_stretch: False





<ConnectScreen>:
    name: "ConnectScreen"

    Image:
        source: app.assets.CONNECT_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False

    ImageButton:
        id : Submit_btn
        source: app.assets.SUBMIT_BTN
        size_hint: 0.184, 0.07
        keep_ratio: False
        pos_hint: {'x':0.4,'y' : 0.29}
        allow_stretch: False

        on_release:
            app.connect()

    TransTextInput:
        id: port_wig
        size_hint: 0.1667, 0.0416
        pos_hint: {'x': 0.4375, 'y': 0.4444}

    TransTextInput:
        id: ip_wig
        size_hint: 0.1667, 0.0416
        pos_hint: {'x': 0.4375, 'y': 0.6044}




    BackButton:


<SignUpScreen>:
    name : "SignUpScreen"

    Image:
        source: app.assets.SIGN_UP_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False

    TransTextInput:
        id: username_wig
        size_hint: 0.1667, 0.0416
        pos_hint: {'x': 0.4375, 'y': 0.6044}

    TransTextInput:
        id: password_wig
        size_hint: 0.1667, 0.0416
        pos_hint: {'x': 0.4375, 'y': 0.4444}

    ImageButton:
        id : Submit_btn
        source: app.assets.SUBMIT_BTN
        size_hint: 0.184, 0.07
        keep_ratio: False
        pos_hint: {'x':0.4,'y' : 0.29}
        allow_stretch: False

        on_release:
            app.sign_up()

    BackButton:




<LogInScreen>:
    name : "LogInScreen"

    Image:
        source: app.assets.LOG_IN_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False

    TransTextInput:
        id: username_wig
        size_hint: 0.1667, 0.045
        pos_hint: {'x': 0.4375, 'y': 0.59}

    TransTextInput:
        id: password_wig
        size_hint: 0.1667, 0.045
        pos_hint: {'x': 0.4375, 'y': 0.435}

    ImageButton:
        id : Submit_btn
        source: app.assets.SUBMIT_BTN
        size_hint: 0.184, 0.07
        keep_ratio: False
        pos_hint: {'x':0.4,'y' : 0.29}
        allow_stretch: False

        on_release:
            app.log_in()

    BackButton:


<UserPageScreen>:
    name: "UserPageScreen"

    Image:
        source: app.assets.USER_PAGE_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False


    Label:
        id: username_label
        pos_hint: {'center_x' : 1 ,'center_y' : 0.851}
        markup: True
        text: ''
        font_size: 32
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        background_color : (0,0,0,0)
        canvas.before:
            Color:
                rgba: self.background_color
            Rectangle:
                size:self.size
                pos:self.pos
        color: (0,0,0,1)



    Label:
        id: balance_label
        size_hint: 0.2 , 0.05
        pos_hint: {'x' : 0.4635 ,'y' : 0.56}
        markup: True
        text: ''
        font_size: 30
        font_name: app.assets.DEF_FONT

        text_size: self.size
        halign: 'left'
        valign: 'middle'
        background_color : (0,0,0,0)
        canvas.before:
            Color:
                rgba: self.background_color
            Rectangle:
                size:self.size
                pos:self.pos
        color: (0,0,0,1)







    RecantsTransactions:
        id : RecantsTransactions


    ImageButton:
        id : Send_btn
        source: app.assets.SEND_BTN
        size_hint: 0.09375, 0.16667
        keep_ratio: False
        pos_hint: {'x':0.7395,'y' : 0.44444}
        allow_stretch: False

        on_release:
            app.root.current = "SendScreen"


    ImageButton:
        id : Receive_btn
        source: app.assets.RECEIVE_BTN
        size_hint: 0.09375, 0.16667
        keep_ratio: False
        pos_hint: {'x':0.16667,'y' : 0.44444}
        allow_stretch: False

        on_release:
            app.root.current = "ReceiveScreen"


    BackButton:



<ReceiveScreen>
    name: "ReceiveScreen"

    Image:
        source: app.assets.RECEIVE_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False

    OfferedTransactions:
        id: OfferedTransactions





    BackButton:


<FullReceiveScreen>:
    name: "FullReceiveScreen"


    Image:
        source: app.assets.RECEIVE_FULL_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False


    Label:
        id: from_label
        size_hint: 0.28125, 0.056
        pos_hint: {'x':0.411,'y':0.615}
        markup: True
        text: ''
        font_size: 32
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        background_color : (0,0,0,0)
        canvas.before:
            Color:
                rgba: self.background_color
            Rectangle:
                size:self.size
                pos:self.pos
        color: (0,0,0,1)

    Label:
        id: amount_label
        size_hint: 0.203, 0.04629
        pos_hint: {'x': 0.459, 'y': 0.4537}
        markup: True
        text: ''
        font_size: 32
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        background_color : (0,0,0,0)
        canvas.before:
            Color:
                rgba: self.background_color
            Rectangle:
                size:self.size
                pos:self.pos
        color: (0,0,0,1)

    Label:
        id: description_label
        size_hint: 0.338, 0.04629
        pos_hint: {'x':0.3281,'y':0.1944}
        markup: True
        text: ''
        font_size: 32
        text_size: self.size
        halign: 'left'
        valign: 'middle'
        background_color : (0,0,0,0)
        canvas.before:
            Color:
                rgba: self.background_color
            Rectangle:
                size:self.size
                pos:self.pos
        color: (0,0,0,1)


    ImageButton:
        id : Decline_btn
        source: app.assets.DECLINE_BTN
        size_hint: 0.09375, 0.16667
        keep_ratio: False
        pos_hint: {'x':0.77,'y' : 0.2129}
        allow_stretch: False

        on_release:
            app.decline()


    ImageButton:
        id : Receive_btn
        source: app.assets.RECEIVE_BTN
        size_hint: 0.09375, 0.16667
        keep_ratio: False
        pos_hint: {'x':0.77,'y' : 0.5278}
        allow_stretch: False

        on_release:
            app.receive_coins()



    BackButton:




<SendScreen>:
    name: "SendScreen"

    Image:
        source: app.assets.SEND_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False

    TransTextInput:
        id: receiver_username_wig
        size_hint: 0.28125, 0.04629
        pos_hint: {'x': 0.25, 'y': 0.6111}

    TransTextInput:
        id: amount_wig
        size_hint: 0.203, 0.04629
        pos_hint: {'x': 0.3177, 'y': 0.4537}

    TransTextInput:
        id: description_wig
        size_hint: 0.338, 0.04629
        pos_hint: {'x': 0.2, 'y': 0.197}

    ImageButton:
        id : BigSend_btn
        source: app.assets.BIG_SEND_BTN
        size_hint: 0.151, 0.263889
        keep_ratio: False
        pos_hint: {'x':0.65625,'y' : 0.30555}
        allow_stretch: False

        on_release:
            app.send_coins()

    BackButton:




<WaitingForConfirmationScreen>:
    name: "WaitingForConfirmationScreen"

    Image:
        source: app.assets.WAITING_FOR_CONFIRMATION_SCREEN
        size_hint: 1,1
        keep_ratio: False
        allow_stretch: False



<BackButton>:
    text: "Back"
    size_hint: None, None
    pos_hint: {"right": 0.98, "bottom": 0.9}
    font_size: 46
    font_name: app.assets.DEF_FONT

    on_release:
        app.pressed_back()








<TransTextInput>:
    multiline: False
    foreground_color: (1,0,1,1)
    background_color: (0,0,0,0)
    cursor_color: (0.5, 0.5, 0.5, 0.971)
    cursor_width: 1
    coulor: (0, 0, 0, 1)


    canvas.before:
        Color:
            rgba: self.coulor


